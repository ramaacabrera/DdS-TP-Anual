<#assign pageTitle = "Crear Colección">
<#assign content>
<div class="container">
    <div class="header">
        <a href="/" class="header-link">← Volver al inicio</a>
    </div>

    <h1>Crear nueva colección</h1>

    <script>
        const URL_ADMINISTRATIVA = '${urlAdministrativa!"http://localhost:8081"}';
    </script>

    <form action="/api/colecciones" method="post">
        <label for="titulo">Título:</label><br>
        <input type="text" id="titulo" name="titulo" required><br><br>

        <label for="descripcion">Descripción:</label><br>
        <textarea id="descripcion" name="descripcion" rows="4" required></textarea><br><br>

        <label for="algoritmo">Algoritmo de consenso:</label><br>
        <select id="algoritmo" name="algoritmo">
            <#list algoritmos as alg>
                <option value="${alg}">${alg?capitalize}</option>
            </#list>
        </select><br><br>

        <h3>Criterios de pertenencia</h3>
        <div id="criterios">
            <label for="tipoCriterio">Tipo de criterio:</label><br>
            <select id="tipoCriterio" name="criteriosDePertenencia" onchange="mostrarCampoCriterio()">
                <option value="CriterioDeTexto">Texto</option>
                <option value="CriterioCategoria">Categoría</option>
                <option value="CriterioTipoMultimedia">Tipo Multimedia</option>
                <option value="CriterioEtiquetas">Etiquetas</option>
                <option value="CriterioFecha">Fecha</option>
                <option value="CriterioUbicacion">Ubicación</option>
                <option value="CriterioContribuyente">Contribuyente</option>
                <option value="CriterioTipoFuente">Tipo Fuente</option>
            </select>
            <div id="campoCriterio"></div>
        </div>
        <br>

        <h3>Fuentes</h3>
        <label for="fuentes">Seleccioná una o más fuentes:</label><br>
        <select id="fuentes" name="fuentes" multiple size="4">
            <#list fuentes as fuente>
                <option value="${fuente}">${fuente?capitalize}</option>
            </#list>
        </select>
        <br><br>

        <button type="submit" class="btn btn-primary">Crear Colección</button>
    </form>
</div>
</#assign>
<#include "layout.ftl">
